(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{HR3z:function(t,e,r){r("j5ed"),r("aenv");var n=r("keiz");r("edSL"),r("v4bl"),r("JBlR"),r("kqK5"),r("fk5z");Object.assign,n.a.SET_EVENT_PRODUCT_REDIRECT;var a=n.a.CLEAR_EVENT_PRODUCT_REDIRECT,i=function(){return{type:a}},o=n.a.SET_CRITEO_BANNER_STATUS,c=n.a.CLEAR_CRITEO_BANNER_STATUS,s=function(t){return{type:o,catName:t}},u=function(){return{type:c}};r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return s})),r.d(e,"a",(function(){return u}));Object.assign,n.a.FETCH_CRITEO_REQUEST,n.a.FETCH_CRITEO_SUCCESS,n.a.FETCH_CRITEO_ERROR,n.a.CLEAR_CRITEO},Vo5z:function(t,e,r){r.r(e),r.d(e,"default",(function(){return S})),r.d(e,"ProductSpotlight",(function(){return w}));var n=r("mXGw"),a=r.n(n),i=r("/m4v"),o=r("W0B4"),c=r("2Hgx"),s=r.n(c),u=r("tXPM"),p=r("xBw7"),l=r("i1gk"),f=r("BzSB"),g=r("u1pU"),m=r("W706"),d=r("ZCZy"),y=r("HR3z"),b=r("VBc9"),O=r("rOcY"),h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function E(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var _=O.h.spotlight,C=O.o.countPerRowByViewport,w=function(t){function e(){var t,r,n;v(this,e);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=n=j(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(i))),n.triggerAnalytics=function(){var t=n.props,e=t.triggerSignal,r=t.products,a=t.name,i=r.map((function(t){return t.cin}));e({isPageview:!1,eventId:_,spotlightName:a,products:Object(p.e)(i,"productId")})},n.memoAnalyticsData=null,n.getAnalyticsData=function(){var t=n.props,e={source:t.analyticsPageData+" > spotlight",title:t.title};return n.memoAnalyticsData&&s()(n.memoAnalyticsData,e)?n.memoAnalyticsData:(n.memoAnalyticsData=e,e)},n.truncateProducts=function(){var t=n.props,e=t.recordsWithInsert,r=t.productsNumPerRow;if(!t.bannerStatus[(t.match||{params:{catname:""}}).params.catname+"-"+(e?e[0]:"")])return e;var a=e.length%r==0?2:(e.length+2)%r,i=e.length-a;return[].concat(E(e)).slice(0,i)},j(n,r)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),R(e,[{key:"componentDidMount",value:function(){this.triggerAnalytics()}},{key:"componentWillUnmount",value:function(){(0,this.props.clearCriteoBannerStatus)()}},{key:"render",value:function(){var t=this.truncateProducts();return a.a.createElement(n.Fragment,null,a.a.createElement(b.c,h({productIds:t,type:"product-spotlight"},this.props,{analyticsData:this.getAnalyticsData()})))}}]),e}(n.Component);w.propTypes={triggerSignal:o.func.isRequired,analyticsPageData:o.string.isRequired,title:o.string,recordsWithInsert:Object(o.arrayOf)(o.string).isRequired,productsNumPerRow:o.number.isRequired,insertItems:Object(o.arrayOf)(o.string).isRequired,products:Object(o.arrayOf)(Object(o.shape)({id:o.string,cin:o.string,OnViewBeacon:o.string})).isRequired,cms:Object(o.shape)({pageName:o.string}).isRequired,match:Object(o.shape)({params:Object(o.shape)({catname:o.string})}).isRequired,bannerStatus:Object(o.objectOf)(o.string),clearCriteoBannerStatus:o.func,name:o.string},w.defaultProps={title:"",bannerStatus:{},clearCriteoBannerStatus:function(){},name:""};var S=Object(i.b)((function(t,e){var r=e.name,n=e.renderer,a=e.records,i={pageName:e.cms.pageName,section:"mainContent",name:r,contentRecords:a,renderer:n},o=Object(g.y)(t,i),c=o.viewportProducts,s=o.insertItems,u=Object(l.b)(t,c),p=Object(d.l)(t);return{recordsWithInsert:c,productsNumPerRow:C[p],bannerStatus:Object(m.a)(t),insertItems:s,products:u,analyticsPageData:Object(f.b)(t)}}),{triggerSignal:u.d,clearCriteoBannerStatus:y.a})(w)}}]);